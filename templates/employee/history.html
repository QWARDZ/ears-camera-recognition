<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/employee/history.css') }}">
    <title>Employee History</title>
</head>
<body>

    {% include 'layout/employee_nav.html' %}

    <div class="main-container">
        <h1>Attendance History</h1>

        <!-- Attendance history table -->
        <table class="history-table">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Profile</th>
                    <th>Name</th>
                    <th>Date</th>
                    <th>Shift Time</th>
                    <th>Check In</th>
                    <th>Check Out</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for record in attendance_records %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>
                        <img src="{% if record[3] %}{{ url_for('static', filename='uploads/' ~ record[3]) }}{% else %}/static/uploads/default_profile.png{% endif %}" alt="Profile Picture" class="profile-picture">
                    </td>
                    <td>{{ record[4] }}</td> <!-- Full Name -->
                    <td>{{ record[0] }}</td> <!-- Date -->
                    <td>{{ record[5] }}</td> <!-- Shift Time -->
                    <td>{{ record[1] }}</td> <!-- Check In -->
                    <td>{{ record[2] }}</td> <!-- Check Out -->
                    <td>{{ record[6] }}</td> <!-- Status -->
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script>

            // Sidebar Toggle
            const sidebar = document.querySelector('.sidebar');
            const toggleBtn = document.querySelector('.toggle-btn');
            const mainContainer = document.querySelector('.main-container');

            toggleBtn.addEventListener('click', () => {
                sidebar.classList.toggle('active');
                if (sidebar.classList.contains('active')) {
                    mainContainer.style.marginLeft = '260px'; /* Adjust margin when sidebar expands */
                } else {
                    mainContainer.style.marginLeft = '80px'; /* Default margin */
                }
            });


        </script>
</body>
</html>
